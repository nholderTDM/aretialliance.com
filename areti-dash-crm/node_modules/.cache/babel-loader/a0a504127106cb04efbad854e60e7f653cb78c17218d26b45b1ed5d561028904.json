{"ast":null,"code":"// components/Overview.js\nimport React,{useState,useEffect}from'react';import ApiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Overview=()=>{const[stats,setStats]=useState({totalContacts:0,totalOrganizations:0,tasksByStatus:{pending:0,inProgress:0,completed:0},recentTasks:[]});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const loadDashboardData=async()=>{try{setLoading(true);// Fetch data from API\nconst contacts=await ApiService.getContacts();const organizations=await ApiService.getOrganizations();const tasks=await ApiService.getTasks();// Calculate stats\nconst tasksByStatus={pending:(tasks===null||tasks===void 0?void 0:tasks.filter(t=>t.status==='pending').length)||0,inProgress:(tasks===null||tasks===void 0?void 0:tasks.filter(t=>t.status==='in-progress').length)||0,completed:(tasks===null||tasks===void 0?void 0:tasks.filter(t=>t.status==='completed').length)||0};// Get recent tasks (last 5)\nconst recentTasks=tasks?tasks.sort((a,b)=>new Date(b.updatedAt)-new Date(a.updatedAt)).slice(0,5):[];setStats({totalContacts:(contacts===null||contacts===void 0?void 0:contacts.length)||0,totalOrganizations:(organizations===null||organizations===void 0?void 0:organizations.length)||0,tasksByStatus,recentTasks});}catch(err){console.error('Error loading dashboard data:',err);setError('Failed to load dashboard data');}finally{setLoading(false);}};loadDashboardData();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-800\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Total Contacts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-3xl font-semibold\",children:stats.totalContacts})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Total Organizations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-3xl font-semibold\",children:stats.totalOrganizations})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Tasks Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.tasksByStatus.pending})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.tasksByStatus.inProgress})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.tasksByStatus.completed})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-4\",children:\"Recent Tasks\"}),stats.recentTasks.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:stats.recentTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:task.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:new Date(task.updatedAt).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs ${task.status==='completed'?'bg-green-100 text-green-800':task.status==='in-progress'?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'}`,children:task.status==='in-progress'?'In Progress':task.status.charAt(0).toUpperCase()+task.status.slice(1)})})]},task.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10 text-gray-500\",children:\"No recent tasks found\"})]})]});};export default Overview;","map":{"version":3,"names":["React","useState","useEffect","ApiService","jsx","_jsx","jsxs","_jsxs","Overview","stats","setStats","totalContacts","totalOrganizations","tasksByStatus","pending","inProgress","completed","recentTasks","loading","setLoading","error","setError","loadDashboardData","contacts","getContacts","organizations","getOrganizations","tasks","getTasks","filter","t","status","length","sort","a","b","Date","updatedAt","slice","err","console","className","children","map","task","title","toLocaleDateString","charAt","toUpperCase","id"],"sources":["C:/Users/Administrator/Desktop/aretialliance/areti-dash-crm/src/components/Overview.js"],"sourcesContent":["// components/Overview.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport ApiService from '../services/api';\r\n\r\nconst Overview = () => {\r\n  const [stats, setStats] = useState({\r\n    totalContacts: 0,\r\n    totalOrganizations: 0,\r\n    tasksByStatus: {\r\n      pending: 0,\r\n      inProgress: 0,\r\n      completed: 0\r\n    },\r\n    recentTasks: []\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadDashboardData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Fetch data from API\r\n        const contacts = await ApiService.getContacts();\r\n        const organizations = await ApiService.getOrganizations();\r\n        const tasks = await ApiService.getTasks();\r\n        \r\n        // Calculate stats\r\n        const tasksByStatus = {\r\n          pending: tasks?.filter(t => t.status === 'pending').length || 0,\r\n          inProgress: tasks?.filter(t => t.status === 'in-progress').length || 0,\r\n          completed: tasks?.filter(t => t.status === 'completed').length || 0\r\n        };\r\n        \r\n        // Get recent tasks (last 5)\r\n        const recentTasks = tasks\r\n          ? tasks\r\n            .sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\r\n            .slice(0, 5)\r\n          : [];\r\n        \r\n        setStats({\r\n          totalContacts: contacts?.length || 0,\r\n          totalOrganizations: organizations?.length || 0,\r\n          tasksByStatus,\r\n          recentTasks\r\n        });\r\n      } catch (err) {\r\n        console.error('Error loading dashboard data:', err);\r\n        setError('Failed to load dashboard data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadDashboardData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-800\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <div className=\"text-sm font-medium text-gray-500\">Total Contacts</div>\r\n          <div className=\"mt-1 text-3xl font-semibold\">{stats.totalContacts}</div>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <div className=\"text-sm font-medium text-gray-500\">Total Organizations</div>\r\n          <div className=\"mt-1 text-3xl font-semibold\">{stats.totalOrganizations}</div>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <div className=\"text-sm font-medium text-gray-500\">Tasks Overview</div>\r\n          <div className=\"mt-3 space-y-2\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-sm\">Pending</span>\r\n              <span className=\"font-medium\">{stats.tasksByStatus.pending}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-sm\">In Progress</span>\r\n              <span className=\"font-medium\">{stats.tasksByStatus.inProgress}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-sm\">Completed</span>\r\n              <span className=\"font-medium\">{stats.tasksByStatus.completed}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Activity */}\r\n      <div className=\"bg-white p-4 rounded-lg shadow\">\r\n        <h3 className=\"text-lg font-medium mb-4\">Recent Tasks</h3>\r\n        {stats.recentTasks.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {stats.recentTasks.map(task => (\r\n              <div key={task.id} className=\"flex justify-between items-center p-3 bg-gray-50 rounded\">\r\n                <div>\r\n                  <div className=\"font-medium\">{task.title}</div>\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    {new Date(task.updatedAt).toLocaleDateString()}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <span className={`px-2 py-1 rounded-full text-xs ${\r\n                    task.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                    task.status === 'in-progress' ? 'bg-blue-100 text-blue-800' :\r\n                    'bg-yellow-100 text-yellow-800'\r\n                  }`}>\r\n                    {task.status === 'in-progress' ? 'In Progress' : \r\n                     task.status.charAt(0).toUpperCase() + task.status.slice(1)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-10 text-gray-500\">\r\n            No recent tasks found\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Overview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}