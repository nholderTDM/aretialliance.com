{"ast":null,"code":"// src/components/ScriptNavigator.jsx\nimport React,{useState,useEffect}from'react';import{Phone,X,Save,Calendar,Clock,ChevronDown,ChevronUp,Search,Star,StarOff,Info,FileText,Clipboard,Download,Volume2,UserPlus,BarChart2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ScriptNavigator=()=>{// Track conversation state\nconst[currentStep,setCurrentStep]=useState('introduction');const[history,setHistory]=useState([]);const[notes,setNotes]=useState('');const[contactInfo,setContactInfo]=useState({name:'',company:'',title:'',email:'',phone:'',industry:''});// UI state\nconst[showScript,setShowScript]=useState(true);const[showContact,setShowContact]=useState(true);const[showNotes,setShowNotes]=useState(true);const[favoriteScripts,setFavoriteScripts]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const[scriptVariant,setScriptVariant]=useState('standard');const[customScriptVersion,setCustomScriptVersion]=useState('v1');const[callTimer,setCallTimer]=useState(0);const[isTimerRunning,setIsTimerRunning]=useState(false);const[showSaveModal,setShowSaveModal]=useState(false);const[savedName,setSavedName]=useState('');const[followUpTasks,setFollowUpTasks]=useState([]);const[showAddTask,setShowAddTask]=useState(false);const[newTask,setNewTask]=useState({title:'',dueDate:'',priority:'medium'});const[showKeyPhrases,setShowKeyPhrases]=useState(false);const[showAnalytics,setShowAnalytics]=useState(false);// Analytics tracking\nconst[analyticsData,setAnalyticsData]=useState({pathsUsed:{},objectionCounts:{},successRates:{},avgCallTime:0,callCount:0,consultationsScheduled:0,leadConversionRate:0});// Load saved data on component mount\nuseEffect(()=>{try{const savedFavorites=localStorage.getItem('favoriteScripts');if(savedFavorites){setFavoriteScripts(JSON.parse(savedFavorites));}const savedAnalytics=localStorage.getItem('scriptAnalytics');if(savedAnalytics){setAnalyticsData(JSON.parse(savedAnalytics));}}catch(error){console.error(\"Error loading data from localStorage:\",error);}},[]);// Save favorites when they change\nuseEffect(()=>{try{localStorage.setItem('favoriteScripts',JSON.stringify(favoriteScripts));}catch(error){console.error(\"Error saving favorites to localStorage:\",error);}},[favoriteScripts]);// Call timer\nuseEffect(()=>{let interval;if(isTimerRunning){interval=setInterval(()=>{setCallTimer(prevTime=>prevTime+1);},1000);}return()=>clearInterval(interval);},[isTimerRunning]);// Format timer display\nconst formatTime=timeInSeconds=>{const minutes=Math.floor(timeInSeconds/60);const seconds=timeInSeconds%60;return`${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;};// Start/stop timer\nconst toggleTimer=()=>{if(!isTimerRunning&&callTimer===0){// Starting a new call - add to analytics\nsetAnalyticsData(prev=>({...prev,callCount:prev.callCount+1}));}setIsTimerRunning(!isTimerRunning);};// Reset timer\nconst resetTimer=()=>{if(callTimer>0&&!isTimerRunning){// Update average call time\nsetAnalyticsData(prev=>{const totalTime=prev.avgCallTime*prev.callCount+callTimer;const newCount=prev.callCount;return{...prev,avgCallTime:newCount?totalTime/newCount:0};});}setCallTimer(0);setIsTimerRunning(false);};// Track step changes for analytics\nconst handleStepChange=nextStep=>{// Record the current step in history\nif(currentStep&&conversationSteps[currentStep]){setHistory(prev=>[...prev,{step:currentStep,title:conversationSteps[currentStep].title,timestamp:new Date().toISOString()}]);// Track path usage in analytics\nsetAnalyticsData(prev=>{const pathsUsed={...prev.pathsUsed};pathsUsed[currentStep]=(pathsUsed[currentStep]||0)+1;return{...prev,pathsUsed};});}// Track objections\nif(nextStep.includes('handle_')||nextStep.includes('address_')){setAnalyticsData(prev=>{const objectionCounts={...prev.objectionCounts};objectionCounts[nextStep]=(objectionCounts[nextStep]||0)+1;return{...prev,objectionCounts};});}// Track consultations scheduled\nif(nextStep==='schedule_consultation'||nextStep==='confirm_appointment'){setAnalyticsData(prev=>({...prev,consultationsScheduled:prev.consultationsScheduled+1,leadConversionRate:(prev.consultationsScheduled+1)/(prev.callCount||1)}));}// Set the new current step\nsetCurrentStep(nextStep);};// Search functionality\nuseEffect(()=>{if(searchTerm.trim()===''){setSearchResults([]);return;}const results=Object.entries(conversationSteps).filter(_ref=>{let[key,step]=_ref;return step.title.toLowerCase().includes(searchTerm.toLowerCase())||step.script.toLowerCase().includes(searchTerm.toLowerCase());}).map(_ref2=>{let[key,step]=_ref2;return{key,title:step.title};});setSearchResults(results);},[searchTerm]);// Toggle favorite script\nconst toggleFavorite=stepKey=>{if(favoriteScripts.includes(stepKey)){setFavoriteScripts(favoriteScripts.filter(key=>key!==stepKey));}else{setFavoriteScripts([...favoriteScripts,stepKey]);}};// Save current conversation\nconst saveConversation=()=>{var _conversationSteps$cu;// This would connect to your CRM's API in production\nconst conversation={name:savedName,history:[...history,{step:currentStep,title:((_conversationSteps$cu=conversationSteps[currentStep])===null||_conversationSteps$cu===void 0?void 0:_conversationSteps$cu.title)||'Unknown Step'}],notes,contactInfo,date:new Date().toISOString(),duration:callTimer};// Save to analytics\nconst updateAnalytics={...analyticsData};updateAnalytics.savedCalls=(updateAnalytics.savedCalls||0)+1;setAnalyticsData(updateAnalytics);try{localStorage.setItem('scriptAnalytics',JSON.stringify(updateAnalytics));}catch(error){console.error(\"Error saving analytics to localStorage:\",error);}console.log('Saving conversation:',conversation);// Mock API call\nsetTimeout(()=>{alert('Conversation saved successfully!');setShowSaveModal(false);},500);};// Add follow-up task\nconst addFollowUpTask=()=>{if(!newTask.title||!newTask.dueDate)return;setFollowUpTasks([...followUpTasks,{...newTask,id:Date.now(),completed:false}]);// Reset form\nsetNewTask({title:'',dueDate:'',priority:'medium'});setShowAddTask(false);};// Generate analytics report\nconst generateReport=()=>{// Analytics calculations would happen here\nsetShowAnalytics(!showAnalytics);};// Define industry-specific key phrases\nconst industryKeyPhrases={retail:[\"Same-day delivery to increase customer satisfaction\",\"Reduce cart abandonment with reliable delivery options\",\"Compete with Amazon-like delivery experiences\"],healthcare:[\"HIPAA-compliant delivery protocols\",\"Temperature-controlled medication transport\",\"Urgent medical supply delivery\"],food:[\"Hot food delivered hot, cold food delivered cold\",\"Specialized food transport equipment\",\"Rush hour delivery capacity\"],manufacturing:[\"Just-in-time component delivery\",\"Production line continuity\",\"Emergency parts delivery\"],ecommerce:[\"Branded delivery experience\",\"Delivery speed as competitive advantage\",\"Last-mile tracking for customer satisfaction\"],logistics:[\"Overflow capacity during peak periods\",\"Specialized vehicle capabilities\",\"Route optimization expertise\"],construction:[\"On-site delivery with proof of delivery\",\"Heavy and oversized item handling\",\"Time-sensitive material delivery\"],automotive:[\"Parts delivery to minimize downtime\",\"Service level agreements for critical components\",\"Inventory management integration\"]};// Script variations based on industry or approach\nconst scriptVariations={standard:{introduction:{title:\"Introduction\",script:\"Hello, my name is [Your Name] from Areti Alliance. We're a last-mile delivery service provider based in Atlanta. May I ask who I'm speaking with today?\",options:[{label:\"They introduce themselves\",nextStep:\"identify_decision_maker\"},{label:\"They ask what this is about\",nextStep:\"brief_explanation\"},{label:\"They say they're busy\",nextStep:\"busy_response\"},{label:\"Gatekeeper blocks access\",nextStep:\"handle_gatekeeper\"}]}// Other standard script steps would be defined here\n},assertive:{introduction:{title:\"Assertive Introduction\",script:\"Hello, I'm [Your Name] with Areti Alliance. We specialize in optimizing last-mile delivery costs for businesses in your industry. Most companies we work with save 15-20% on delivery expenses. I'd like to discuss if we could achieve similar results for you. Who would be the best person to speak with about this?\",options:[{label:\"They introduce themselves\",nextStep:\"identify_decision_maker\"},{label:\"They ask for more details\",nextStep:\"assertive_value_proposition\"},{label:\"They say they're busy\",nextStep:\"assertive_busy_response\"},{label:\"Gatekeeper blocks access\",nextStep:\"handle_gatekeeper_assertively\"}]}// Other assertive script steps would be defined here\n},consultative:{introduction:{title:\"Consultative Introduction\",script:\"Hello, my name is [Your Name] from Areti Alliance. We've been researching the logistics challenges in your industry, and I'm reaching out to learn more about how companies like yours are handling last-mile delivery. Would you be the right person to speak with about your delivery operations?\",options:[{label:\"They introduce themselves\",nextStep:\"identify_decision_maker\"},{label:\"They ask what specifically you want to know\",nextStep:\"consultative_questions\"},{label:\"They say they're busy\",nextStep:\"busy_response\"},{label:\"Gatekeeper blocks access\",nextStep:\"handle_gatekeeper_consultatively\"}]}// Other consultative script steps would be defined here\n}};// Main conversation steps\nconst conversationSteps={introduction:{title:\"Introduction\",script:\"Hello, my name is [Your Name] from Areti Alliance. We're a last-mile delivery service provider based in Atlanta. May I ask who I'm speaking with today?\",options:[{label:\"They introduce themselves\",nextStep:\"identify_decision_maker\"},{label:\"They ask what this is about\",nextStep:\"brief_explanation\"},{label:\"They say they're busy\",nextStep:\"busy_response\"},{label:\"Gatekeeper blocks access\",nextStep:\"handle_gatekeeper\"}]},brief_explanation:{title:\"Brief Explanation\",script:\"I'm reaching out to discuss how Areti Alliance can improve your last-mile delivery logistics. We help businesses like yours reduce costs and increase customer satisfaction with our reliable, tech-enabled delivery services. Is this something that would be valuable to discuss?\",options:[{label:\"Yes, they're interested\",nextStep:\"identify_decision_maker\"},{label:\"No, not interested\",nextStep:\"handle_not_interested\"},{label:\"Need more information\",nextStep:\"expand_value_proposition\"}]},// For brevity, I'll include just a few more steps. You can expand this section with more steps\nexpand_value_proposition:{title:\"Expanded Value Proposition\",script:\"Our approach is unique because we start small with specific routes or delivery types to prove our value before expanding. This minimizes risk and lets you see results before making a larger commitment. We offer real-time tracking, reliable drivers, flexible scaling during peaks, and detailed analytics on delivery performance. Many of our clients see improved customer satisfaction and operational efficiency. Which of these aspects would be most valuable to your business?\",options:[{label:\"They specify an aspect\",nextStep:\"address_stated_priorities\"},{label:\"Continue to decision maker\",nextStep:\"identify_decision_maker\"},{label:\"Need more specifics\",nextStep:\"industry_specific_benefits\"}]},handle_not_interested:{title:\"Handle Not Interested\",script:\"I understand this might not be a priority right now. Many businesses come to us when they're experiencing delivery challenges or looking to improve customer satisfaction. Would it be alright if I check back in a few months, or is there a specific time when reviewing your delivery options might be more relevant?\",options:[{label:\"OK to follow up later\",nextStep:\"schedule_future_contact\"},{label:\"Never contact again\",nextStep:\"respectful_final_close\"},{label:\"They reconsider\",nextStep:\"pain_point_discovery\"},{label:\"Specific objection raised\",nextStep:\"address_specific_objection\"}]},respectful_final_close:{title:\"Respectful Final Close\",script:\"I understand. Thank you for your time today. Should your needs change in the future, you can always reach us through our website at aretialliance.com. Have a great day!\",options:[{label:\"End call\",nextStep:\"reset\"}]},reset:{title:\"End Call\",script:\"The call has ended. You can start a new call or review this call's history.\",options:[{label:\"Start new call\",nextStep:\"introduction\"}]}// You can add more conversation steps as needed\n};// Helper function to get current step's script based on selected variant\nconst getCurrentStepScript=()=>{// Check if the current step exists in the selected variant\nif(scriptVariations[scriptVariant]&&scriptVariations[scriptVariant][currentStep]){return scriptVariations[scriptVariant][currentStep];}// Fall back to the standard conversation steps\nreturn conversationSteps[currentStep]||{title:\"Error\",script:\"No script found for this step.\",options:[{label:\"Reset\",nextStep:\"introduction\"}]};};// Render the UI\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-blue-600 text-white p-4 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"Script Navigator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-3 py-1 rounded-full text-sm\",children:isTimerRunning?'Active Call':'Ready'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(callTimer)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleTimer,className:`px-3 py-1 rounded ${isTimerRunning?'bg-red-500':'bg-green-500'}`,children:isTimerRunning?'Pause':'Start Call'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetTimer,className:\"px-3 py-1 bg-gray-700 rounded\",disabled:isTimerRunning,children:\"Reset\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-white p-4 shadow-md flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-2\",children:\"Script Style\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-2 border rounded\",value:scriptVariant,onChange:e=>setScriptVariant(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"standard\",children:\"Standard\"}),/*#__PURE__*/_jsx(\"option\",{value:\"assertive\",children:\"Assertive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"consultative\",children:\"Consultative\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-2\",children:\"Search Scripts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by keyword...\",className:\"w-full p-2 border rounded\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(Search,{className:\"absolute right-3 top-2.5 text-gray-400\",size:18})]}),searchResults.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 border rounded max-h-40 overflow-y-auto\",children:searchResults.map(result=>/*#__PURE__*/_jsx(\"li\",{className:\"p-2 hover:bg-gray-100 cursor-pointer border-b text-sm\",onClick:()=>{handleStepChange(result.key);setSearchTerm('');},children:result.title},result.key))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold\",children:\"Favorite Scripts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowKeyPhrases(!showKeyPhrases),className:\"text-blue-600 text-sm\",children:showKeyPhrases?'Hide Key Phrases':'Show Key Phrases'})]}),favoriteScripts.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"border rounded max-h-40 overflow-y-auto\",children:favoriteScripts.map(key=>conversationSteps[key]&&/*#__PURE__*/_jsxs(\"li\",{className:\"p-2 hover:bg-gray-100 cursor-pointer border-b text-sm flex justify-between\",onClick:()=>handleStepChange(key),children:[/*#__PURE__*/_jsx(\"span\",{children:conversationSteps[key].title}),/*#__PURE__*/_jsx(StarOff,{size:16,className:\"text-yellow-500 cursor-pointer\",onClick:e=>{e.stopPropagation();toggleFavorite(key);}})]},key))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No favorites yet. Star scripts to save them here.\"})]}),showKeyPhrases&&contactInfo.industry&&industryKeyPhrases[contactInfo.industry.toLowerCase()]&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-2\",children:\"Industry Key Phrases\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"border rounded p-2 max-h-40 overflow-y-auto\",children:industryKeyPhrases[contactInfo.industry.toLowerCase()].map((phrase,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"mb-1 text-sm\",children:[\"\\u2022 \",phrase]},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:generateReport,className:\"w-full p-2 bg-blue-600 text-white rounded flex items-center justify-center\",children:[/*#__PURE__*/_jsx(BarChart2,{size:18,className:\"mr-2\"}),showAnalytics?'Hide Analytics':'Show Analytics']})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:getCurrentStepScript().title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleFavorite(currentStep),className:\"mr-2\",children:favoriteScripts.includes(currentStep)?/*#__PURE__*/_jsx(StarOff,{size:18,className:\"text-yellow-500\"}):/*#__PURE__*/_jsx(Star,{size:18,className:\"text-gray-400 hover:text-yellow-500\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowScript(!showScript),className:\"text-gray-500\",children:showScript?/*#__PURE__*/_jsx(ChevronUp,{size:18}):/*#__PURE__*/_jsx(ChevronDown,{size:18})})]})]}),showScript&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 p-4 rounded border border-blue-200 mb-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:getCurrentStepScript().script})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Response Options:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-2\",children:getCurrentStepScript().options.map((option,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStepChange(option.nextStep),className:\"p-2 bg-gray-100 hover:bg-blue-100 border rounded text-left\",children:option.label},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>history.length>0&&handleStepChange(history[history.length-1].step),disabled:history.length===0,className:`px-3 py-1 rounded ${history.length===0?'bg-gray-300 cursor-not-allowed':'bg-blue-600 text-white'}`,children:\"Back\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowSaveModal(true),className:\"px-3 py-1 bg-green-600 text-white rounded flex items-center\",children:[/*#__PURE__*/_jsx(Save,{size:16,className:\"mr-1\"}),\"Save Conversation\"]})]})]}),showAnalytics&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:\"Call Analytics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold mb-1\",children:\"Total Calls\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl\",children:analyticsData.callCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold mb-1\",children:\"Avg. Call Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl\",children:formatTime(Math.round(analyticsData.avgCallTime))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold mb-1\",children:\"Consultations Scheduled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl\",children:analyticsData.consultationsScheduled})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Lead Conversion Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-4 rounded-full\",style:{width:`${Math.min(100,analyticsData.leadConversionRate*100)}%`}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-1\",children:[(analyticsData.leadConversionRate*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Top Objections\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"border rounded divide-y\",children:Object.entries(analyticsData.objectionCounts).sort((_ref3,_ref4)=>{let[,a]=_ref3;let[,b]=_ref4;return b-a;}).slice(0,3).map(_ref5=>{var _conversationSteps$ke;let[key,count]=_ref5;return/*#__PURE__*/_jsxs(\"li\",{className:\"p-2 flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:((_conversationSteps$ke=conversationSteps[key])===null||_conversationSteps$ke===void 0?void 0:_conversationSteps$ke.title)||key}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold\",children:count})]},key);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold\",children:\"Contact Information\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowContact(!showContact),className:\"text-gray-500\",children:showContact?/*#__PURE__*/_jsx(ChevronUp,{size:18}):/*#__PURE__*/_jsx(ChevronDown,{size:18})})]}),showContact&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:contactInfo.name,onChange:e=>setContactInfo({...contactInfo,name:e.target.value}),className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Company\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:contactInfo.company,onChange:e=>setContactInfo({...contactInfo,company:e.target.value}),className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:contactInfo.title,onChange:e=>setContactInfo({...contactInfo,title:e.target.value}),className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:contactInfo.email,onChange:e=>setContactInfo({...contactInfo,email:e.target.value}),className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:contactInfo.phone,onChange:e=>setContactInfo({...contactInfo,phone:e.target.value}),className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Industry\"}),/*#__PURE__*/_jsxs(\"select\",{value:contactInfo.industry,onChange:e=>setContactInfo({...contactInfo,industry:e.target.value}),className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Industry\"}),Object.keys(industryKeyPhrases).map(industry=>/*#__PURE__*/_jsx(\"option\",{value:industry,children:industry.charAt(0).toUpperCase()+industry.slice(1)},industry))]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold\",children:\"Call Notes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNotes(!showNotes),className:\"text-gray-500\",children:showNotes?/*#__PURE__*/_jsx(ChevronUp,{size:18}):/*#__PURE__*/_jsx(ChevronDown,{size:18})})]}),showNotes&&/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Add your call notes here...\",className:\"w-full p-2 border rounded h-40\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold\",children:\"Follow-up Tasks\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddTask(true),className:\"px-3 py-1 bg-blue-600 text-white rounded text-sm flex items-center\",children:[/*#__PURE__*/_jsx(UserPlus,{size:16,className:\"mr-1\"}),\"Add Task\"]})]}),followUpTasks.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y\",children:followUpTasks.map(task=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-2 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:task.completed,onChange:()=>{setFollowUpTasks(followUpTasks.map(t=>t.id===task.id?{...t,completed:!t.completed}:t));},className:\"mt-1 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:`font-medium ${task.completed?'line-through text-gray-500':''}`,children:task.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex text-sm text-gray-500 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-3 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{size:14,className:\"mr-1\"}),task.dueDate]}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 rounded-full text-xs \n                            ${task.priority==='high'?'bg-red-100 text-red-800':task.priority==='medium'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'}`,children:task.priority.charAt(0).toUpperCase()+task.priority.slice(1)})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFollowUpTasks(followUpTasks.filter(t=>t.id!==task.id));},className:\"text-red-500\",children:/*#__PURE__*/_jsx(X,{size:16})})]},task.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"No follow-up tasks yet. Add tasks to keep track of next steps.\"}),showAddTask&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 border-t pt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium mb-2\",children:\"New Task\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Task title\",value:newTask.title,onChange:e=>setNewTask({...newTask,title:e.target.value}),className:\"w-full p-2 border rounded\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newTask.dueDate,onChange:e=>setNewTask({...newTask,dueDate:e.target.value}),className:\"w-full p-2 border rounded\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"select\",{value:newTask.priority,onChange:e=>setNewTask({...newTask,priority:e.target.value}),className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High Priority\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddTask(false),className:\"px-3 py-1 border rounded\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addFollowUpTask,className:\"px-3 py-1 bg-blue-600 text-white rounded\",disabled:!newTask.title||!newTask.dueDate,children:\"Add Task\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-white p-4 shadow-md overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-4\",children:\"Call History\"}),history.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:history.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-2 border rounded hover:bg-gray-100 cursor-pointer text-sm\",onClick:()=>handleStepChange(item.step),children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:new Date(item.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"No call history yet.\"})]})]}),showSaveModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:\"Save Conversation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Conversation Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:savedName,onChange:e=>setSavedName(e.target.value),className:\"w-full p-2 border rounded\",placeholder:\"E.g., Call with ABC Company\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSaveModal(false),className:\"px-4 py-2 border rounded\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveConversation,className:\"px-4 py-2 bg-blue-600 text-white rounded\",disabled:!savedName,children:\"Save\"})]})]})})]});};export default ScriptNavigator;","map":{"version":3,"names":["React","useState","useEffect","Phone","X","Save","Calendar","Clock","ChevronDown","ChevronUp","Search","Star","StarOff","Info","FileText","Clipboard","Download","Volume2","UserPlus","BarChart2","jsx","_jsx","jsxs","_jsxs","ScriptNavigator","currentStep","setCurrentStep","history","setHistory","notes","setNotes","contactInfo","setContactInfo","name","company","title","email","phone","industry","showScript","setShowScript","showContact","setShowContact","showNotes","setShowNotes","favoriteScripts","setFavoriteScripts","searchTerm","setSearchTerm","searchResults","setSearchResults","scriptVariant","setScriptVariant","customScriptVersion","setCustomScriptVersion","callTimer","setCallTimer","isTimerRunning","setIsTimerRunning","showSaveModal","setShowSaveModal","savedName","setSavedName","followUpTasks","setFollowUpTasks","showAddTask","setShowAddTask","newTask","setNewTask","dueDate","priority","showKeyPhrases","setShowKeyPhrases","showAnalytics","setShowAnalytics","analyticsData","setAnalyticsData","pathsUsed","objectionCounts","successRates","avgCallTime","callCount","consultationsScheduled","leadConversionRate","savedFavorites","localStorage","getItem","JSON","parse","savedAnalytics","error","console","setItem","stringify","interval","setInterval","prevTime","clearInterval","formatTime","timeInSeconds","minutes","Math","floor","seconds","toString","padStart","toggleTimer","prev","resetTimer","totalTime","newCount","handleStepChange","nextStep","conversationSteps","step","timestamp","Date","toISOString","includes","trim","results","Object","entries","filter","_ref","key","toLowerCase","script","map","_ref2","toggleFavorite","stepKey","saveConversation","_conversationSteps$cu","conversation","date","duration","updateAnalytics","savedCalls","log","setTimeout","alert","addFollowUpTask","id","now","completed","generateReport","industryKeyPhrases","retail","healthcare","food","manufacturing","ecommerce","logistics","construction","automotive","scriptVariations","standard","introduction","options","label","assertive","consultative","brief_explanation","expand_value_proposition","handle_not_interested","respectful_final_close","reset","getCurrentStepScript","className","children","size","onClick","disabled","value","onChange","e","target","type","placeholder","length","result","stopPropagation","phrase","index","option","round","style","width","min","toFixed","sort","_ref3","_ref4","a","b","slice","_ref5","_conversationSteps$ke","count","keys","charAt","toUpperCase","task","checked","t","item","toLocaleTimeString","hour","minute"],"sources":["C:/Users/Administrator/Desktop/aretialliance/areti-dash-crm/src/components/ScriptNavigator.jsx"],"sourcesContent":["// src/components/ScriptNavigator.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { \r\n  Phone, X, Save, Calendar, Clock, ChevronDown, ChevronUp, Search, \r\n  Star, StarOff, Info, FileText, Clipboard, Download, Volume2, UserPlus, BarChart2 \r\n} from 'lucide-react';\r\n\r\nconst ScriptNavigator = () => {\r\n  // Track conversation state\r\n  const [currentStep, setCurrentStep] = useState('introduction');\r\n  const [history, setHistory] = useState([]);\r\n  const [notes, setNotes] = useState('');\r\n  const [contactInfo, setContactInfo] = useState({\r\n    name: '',\r\n    company: '',\r\n    title: '',\r\n    email: '',\r\n    phone: '',\r\n    industry: ''  \r\n  });\r\n  \r\n  // UI state\r\n  const [showScript, setShowScript] = useState(true);\r\n  const [showContact, setShowContact] = useState(true);\r\n  const [showNotes, setShowNotes] = useState(true);\r\n  const [favoriteScripts, setFavoriteScripts] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [scriptVariant, setScriptVariant] = useState('standard');\r\n  const [customScriptVersion, setCustomScriptVersion] = useState('v1');\r\n  const [callTimer, setCallTimer] = useState(0);\r\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\r\n  const [showSaveModal, setShowSaveModal] = useState(false);\r\n  const [savedName, setSavedName] = useState('');\r\n  const [followUpTasks, setFollowUpTasks] = useState([]);\r\n  const [showAddTask, setShowAddTask] = useState(false);\r\n  const [newTask, setNewTask] = useState({ title: '', dueDate: '', priority: 'medium' });\r\n  const [showKeyPhrases, setShowKeyPhrases] = useState(false);\r\n  const [showAnalytics, setShowAnalytics] = useState(false);\r\n  \r\n  // Analytics tracking\r\n  const [analyticsData, setAnalyticsData] = useState({\r\n    pathsUsed: {},\r\n    objectionCounts: {},\r\n    successRates: {},\r\n    avgCallTime: 0,\r\n    callCount: 0,\r\n    consultationsScheduled: 0,\r\n    leadConversionRate: 0\r\n  });\r\n  \r\n  // Load saved data on component mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedFavorites = localStorage.getItem('favoriteScripts');\r\n      if (savedFavorites) {\r\n        setFavoriteScripts(JSON.parse(savedFavorites));\r\n      }\r\n      \r\n      const savedAnalytics = localStorage.getItem('scriptAnalytics');\r\n      if (savedAnalytics) {\r\n        setAnalyticsData(JSON.parse(savedAnalytics));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading data from localStorage:\", error);\r\n    }\r\n  }, []);\r\n  \r\n  // Save favorites when they change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('favoriteScripts', JSON.stringify(favoriteScripts));\r\n    } catch (error) {\r\n      console.error(\"Error saving favorites to localStorage:\", error);\r\n    }\r\n  }, [favoriteScripts]);\r\n  \r\n  // Call timer\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isTimerRunning) {\r\n      interval = setInterval(() => {\r\n        setCallTimer(prevTime => prevTime + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isTimerRunning]);\r\n  \r\n  // Format timer display\r\n  const formatTime = (timeInSeconds) => {\r\n    const minutes = Math.floor(timeInSeconds / 60);\r\n    const seconds = timeInSeconds % 60;\r\n    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n  \r\n  // Start/stop timer\r\n  const toggleTimer = () => {\r\n    if (!isTimerRunning && callTimer === 0) {\r\n      // Starting a new call - add to analytics\r\n      setAnalyticsData(prev => ({\r\n        ...prev,\r\n        callCount: prev.callCount + 1\r\n      }));\r\n    }\r\n    \r\n    setIsTimerRunning(!isTimerRunning);\r\n  };\r\n  \r\n  // Reset timer\r\n  const resetTimer = () => {\r\n    if (callTimer > 0 && !isTimerRunning) {\r\n      // Update average call time\r\n      setAnalyticsData(prev => {\r\n        const totalTime = (prev.avgCallTime * prev.callCount) + callTimer;\r\n        const newCount = prev.callCount;\r\n        return {\r\n          ...prev,\r\n          avgCallTime: newCount ? totalTime / newCount : 0\r\n        };\r\n      });\r\n    }\r\n    \r\n    setCallTimer(0);\r\n    setIsTimerRunning(false);\r\n  };\r\n  \r\n  // Track step changes for analytics\r\n  const handleStepChange = (nextStep) => {\r\n    // Record the current step in history\r\n    if (currentStep && conversationSteps[currentStep]) {\r\n      setHistory(prev => [...prev, { \r\n        step: currentStep, \r\n        title: conversationSteps[currentStep].title,\r\n        timestamp: new Date().toISOString()\r\n      }]);\r\n      \r\n      // Track path usage in analytics\r\n      setAnalyticsData(prev => {\r\n        const pathsUsed = { ...prev.pathsUsed };\r\n        pathsUsed[currentStep] = (pathsUsed[currentStep] || 0) + 1;\r\n        return { ...prev, pathsUsed };\r\n      });\r\n    }\r\n    \r\n    // Track objections\r\n    if (nextStep.includes('handle_') || nextStep.includes('address_')) {\r\n      setAnalyticsData(prev => {\r\n        const objectionCounts = { ...prev.objectionCounts };\r\n        objectionCounts[nextStep] = (objectionCounts[nextStep] || 0) + 1;\r\n        return { ...prev, objectionCounts };\r\n      });\r\n    }\r\n    \r\n    // Track consultations scheduled\r\n    if (nextStep === 'schedule_consultation' || nextStep === 'confirm_appointment') {\r\n      setAnalyticsData(prev => ({\r\n        ...prev,\r\n        consultationsScheduled: prev.consultationsScheduled + 1,\r\n        leadConversionRate: (prev.consultationsScheduled + 1) / (prev.callCount || 1)\r\n      }));\r\n    }\r\n    \r\n    // Set the new current step\r\n    setCurrentStep(nextStep);\r\n  };\r\n  \r\n  // Search functionality\r\n  useEffect(() => {\r\n    if (searchTerm.trim() === '') {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n    \r\n    const results = Object.entries(conversationSteps)\r\n      .filter(([key, step]) => \r\n        step.title.toLowerCase().includes(searchTerm.toLowerCase()) || \r\n        step.script.toLowerCase().includes(searchTerm.toLowerCase())\r\n      )\r\n      .map(([key, step]) => ({\r\n        key,\r\n        title: step.title\r\n      }));\r\n      \r\n    setSearchResults(results);\r\n  }, [searchTerm]);\r\n  \r\n  // Toggle favorite script\r\n  const toggleFavorite = (stepKey) => {\r\n    if (favoriteScripts.includes(stepKey)) {\r\n      setFavoriteScripts(favoriteScripts.filter(key => key !== stepKey));\r\n    } else {\r\n      setFavoriteScripts([...favoriteScripts, stepKey]);\r\n    }\r\n  };\r\n  \r\n  // Save current conversation\r\n  const saveConversation = () => {\r\n    // This would connect to your CRM's API in production\r\n    const conversation = {\r\n      name: savedName,\r\n      history: [...history, { \r\n        step: currentStep, \r\n        title: conversationSteps[currentStep]?.title || 'Unknown Step'\r\n      }],\r\n      notes,\r\n      contactInfo,\r\n      date: new Date().toISOString(),\r\n      duration: callTimer\r\n    };\r\n    \r\n    // Save to analytics\r\n    const updateAnalytics = { ...analyticsData };\r\n    updateAnalytics.savedCalls = (updateAnalytics.savedCalls || 0) + 1;\r\n    setAnalyticsData(updateAnalytics);\r\n    \r\n    try {\r\n      localStorage.setItem('scriptAnalytics', JSON.stringify(updateAnalytics));\r\n    } catch (error) {\r\n      console.error(\"Error saving analytics to localStorage:\", error);\r\n    }\r\n    \r\n    console.log('Saving conversation:', conversation);\r\n    \r\n    // Mock API call\r\n    setTimeout(() => {\r\n      alert('Conversation saved successfully!');\r\n      setShowSaveModal(false);\r\n    }, 500);\r\n  };\r\n  \r\n  // Add follow-up task\r\n  const addFollowUpTask = () => {\r\n    if (!newTask.title || !newTask.dueDate) return;\r\n    \r\n    setFollowUpTasks([...followUpTasks, {\r\n      ...newTask,\r\n      id: Date.now(),\r\n      completed: false\r\n    }]);\r\n    \r\n    // Reset form\r\n    setNewTask({ title: '', dueDate: '', priority: 'medium' });\r\n    setShowAddTask(false);\r\n  };\r\n  \r\n  // Generate analytics report\r\n  const generateReport = () => {\r\n    // Analytics calculations would happen here\r\n    setShowAnalytics(!showAnalytics);\r\n  };\r\n  \r\n  // Define industry-specific key phrases\r\n  const industryKeyPhrases = {\r\n    retail: [\r\n      \"Same-day delivery to increase customer satisfaction\",\r\n      \"Reduce cart abandonment with reliable delivery options\",\r\n      \"Compete with Amazon-like delivery experiences\"\r\n    ],\r\n    healthcare: [\r\n      \"HIPAA-compliant delivery protocols\",\r\n      \"Temperature-controlled medication transport\",\r\n      \"Urgent medical supply delivery\"\r\n    ],\r\n    food: [\r\n      \"Hot food delivered hot, cold food delivered cold\",\r\n      \"Specialized food transport equipment\",\r\n      \"Rush hour delivery capacity\"\r\n    ],\r\n    manufacturing: [\r\n      \"Just-in-time component delivery\",\r\n      \"Production line continuity\",\r\n      \"Emergency parts delivery\"\r\n    ],\r\n    ecommerce: [\r\n      \"Branded delivery experience\",\r\n      \"Delivery speed as competitive advantage\",\r\n      \"Last-mile tracking for customer satisfaction\"\r\n    ],\r\n    logistics: [\r\n      \"Overflow capacity during peak periods\",\r\n      \"Specialized vehicle capabilities\",\r\n      \"Route optimization expertise\"\r\n    ],\r\n    construction: [\r\n      \"On-site delivery with proof of delivery\",\r\n      \"Heavy and oversized item handling\",\r\n      \"Time-sensitive material delivery\"\r\n    ],\r\n    automotive: [\r\n      \"Parts delivery to minimize downtime\",\r\n      \"Service level agreements for critical components\",\r\n      \"Inventory management integration\"\r\n    ]\r\n  };\r\n  \r\n  // Script variations based on industry or approach\r\n  const scriptVariations = {\r\n    standard: {\r\n      introduction: {\r\n        title: \"Introduction\",\r\n        script: \"Hello, my name is [Your Name] from Areti Alliance. We're a last-mile delivery service provider based in Atlanta. May I ask who I'm speaking with today?\",\r\n        options: [\r\n          { label: \"They introduce themselves\", nextStep: \"identify_decision_maker\" },\r\n          { label: \"They ask what this is about\", nextStep: \"brief_explanation\" },\r\n          { label: \"They say they're busy\", nextStep: \"busy_response\" },\r\n          { label: \"Gatekeeper blocks access\", nextStep: \"handle_gatekeeper\" }\r\n        ]\r\n      }\r\n      // Other standard script steps would be defined here\r\n    },\r\n    assertive: {\r\n      introduction: {\r\n        title: \"Assertive Introduction\",\r\n        script: \"Hello, I'm [Your Name] with Areti Alliance. We specialize in optimizing last-mile delivery costs for businesses in your industry. Most companies we work with save 15-20% on delivery expenses. I'd like to discuss if we could achieve similar results for you. Who would be the best person to speak with about this?\",\r\n        options: [\r\n          { label: \"They introduce themselves\", nextStep: \"identify_decision_maker\" },\r\n          { label: \"They ask for more details\", nextStep: \"assertive_value_proposition\" },\r\n          { label: \"They say they're busy\", nextStep: \"assertive_busy_response\" },\r\n          { label: \"Gatekeeper blocks access\", nextStep: \"handle_gatekeeper_assertively\" }\r\n        ]\r\n      }\r\n      // Other assertive script steps would be defined here\r\n    },\r\n    consultative: {\r\n      introduction: {\r\n        title: \"Consultative Introduction\",\r\n        script: \"Hello, my name is [Your Name] from Areti Alliance. We've been researching the logistics challenges in your industry, and I'm reaching out to learn more about how companies like yours are handling last-mile delivery. Would you be the right person to speak with about your delivery operations?\",\r\n        options: [\r\n          { label: \"They introduce themselves\", nextStep: \"identify_decision_maker\" },\r\n          { label: \"They ask what specifically you want to know\", nextStep: \"consultative_questions\" },\r\n          { label: \"They say they're busy\", nextStep: \"busy_response\" },\r\n          { label: \"Gatekeeper blocks access\", nextStep: \"handle_gatekeeper_consultatively\" }\r\n        ]\r\n      }\r\n      // Other consultative script steps would be defined here\r\n    }\r\n  };\r\n  \r\n  // Main conversation steps\r\n  const conversationSteps = {\r\n    introduction: {\r\n      title: \"Introduction\",\r\n      script: \"Hello, my name is [Your Name] from Areti Alliance. We're a last-mile delivery service provider based in Atlanta. May I ask who I'm speaking with today?\",\r\n      options: [\r\n        { label: \"They introduce themselves\", nextStep: \"identify_decision_maker\" },\r\n        { label: \"They ask what this is about\", nextStep: \"brief_explanation\" },\r\n        { label: \"They say they're busy\", nextStep: \"busy_response\" },\r\n        { label: \"Gatekeeper blocks access\", nextStep: \"handle_gatekeeper\" }\r\n      ]\r\n    },\r\n    brief_explanation: {\r\n      title: \"Brief Explanation\",\r\n      script: \"I'm reaching out to discuss how Areti Alliance can improve your last-mile delivery logistics. We help businesses like yours reduce costs and increase customer satisfaction with our reliable, tech-enabled delivery services. Is this something that would be valuable to discuss?\",\r\n      options: [\r\n        { label: \"Yes, they're interested\", nextStep: \"identify_decision_maker\" },\r\n        { label: \"No, not interested\", nextStep: \"handle_not_interested\" },\r\n        { label: \"Need more information\", nextStep: \"expand_value_proposition\" }\r\n      ]\r\n    },\r\n    // For brevity, I'll include just a few more steps. You can expand this section with more steps\r\n    expand_value_proposition: {\r\n      title: \"Expanded Value Proposition\",\r\n      script: \"Our approach is unique because we start small with specific routes or delivery types to prove our value before expanding. This minimizes risk and lets you see results before making a larger commitment. We offer real-time tracking, reliable drivers, flexible scaling during peaks, and detailed analytics on delivery performance. Many of our clients see improved customer satisfaction and operational efficiency. Which of these aspects would be most valuable to your business?\",\r\n      options: [\r\n        { label: \"They specify an aspect\", nextStep: \"address_stated_priorities\" },\r\n        { label: \"Continue to decision maker\", nextStep: \"identify_decision_maker\" },\r\n        { label: \"Need more specifics\", nextStep: \"industry_specific_benefits\" }\r\n      ]\r\n    },\r\n    handle_not_interested: {\r\n      title: \"Handle Not Interested\",\r\n      script: \"I understand this might not be a priority right now. Many businesses come to us when they're experiencing delivery challenges or looking to improve customer satisfaction. Would it be alright if I check back in a few months, or is there a specific time when reviewing your delivery options might be more relevant?\",\r\n      options: [\r\n        { label: \"OK to follow up later\", nextStep: \"schedule_future_contact\" },\r\n        { label: \"Never contact again\", nextStep: \"respectful_final_close\" },\r\n        { label: \"They reconsider\", nextStep: \"pain_point_discovery\" },\r\n        { label: \"Specific objection raised\", nextStep: \"address_specific_objection\" }\r\n      ]\r\n    },\r\n    respectful_final_close: {\r\n      title: \"Respectful Final Close\",\r\n      script: \"I understand. Thank you for your time today. Should your needs change in the future, you can always reach us through our website at aretialliance.com. Have a great day!\",\r\n      options: [\r\n        { label: \"End call\", nextStep: \"reset\" }\r\n      ]\r\n    },\r\n    reset: {\r\n      title: \"End Call\",\r\n      script: \"The call has ended. You can start a new call or review this call's history.\",\r\n      options: [\r\n        { label: \"Start new call\", nextStep: \"introduction\" }\r\n      ]\r\n    },\r\n    // You can add more conversation steps as needed\r\n  };\r\n\r\n  // Helper function to get current step's script based on selected variant\r\n  const getCurrentStepScript = () => {\r\n    // Check if the current step exists in the selected variant\r\n    if (scriptVariations[scriptVariant] && scriptVariations[scriptVariant][currentStep]) {\r\n      return scriptVariations[scriptVariant][currentStep];\r\n    }\r\n    \r\n    // Fall back to the standard conversation steps\r\n    return conversationSteps[currentStep] || {\r\n      title: \"Error\",\r\n      script: \"No script found for this step.\",\r\n      options: [{ label: \"Reset\", nextStep: \"introduction\" }]\r\n    };\r\n  };\r\n\r\n  // Render the UI\r\n  return (\r\n    <div className=\"flex flex-col h-screen bg-gray-100\">\r\n      {/* Header */}\r\n      <header className=\"bg-blue-600 text-white p-4 shadow-md\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <h1 className=\"text-xl font-bold\">Script Navigator</h1>\r\n            <div className=\"bg-blue-500 px-3 py-1 rounded-full text-sm\">\r\n              {isTimerRunning ? 'Active Call' : 'Ready'}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Clock size={18} />\r\n              <span>{formatTime(callTimer)}</span>\r\n            </div>\r\n            <button \r\n              onClick={toggleTimer}\r\n              className={`px-3 py-1 rounded ${isTimerRunning ? 'bg-red-500' : 'bg-green-500'}`}\r\n            >\r\n              {isTimerRunning ? 'Pause' : 'Start Call'}\r\n            </button>\r\n            <button \r\n              onClick={resetTimer}\r\n              className=\"px-3 py-1 bg-gray-700 rounded\"\r\n              disabled={isTimerRunning}\r\n            >\r\n              Reset\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        {/* Left Sidebar - Script Controls */}\r\n        <div className=\"w-64 bg-white p-4 shadow-md flex flex-col\">\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"font-semibold mb-2\">Script Style</h2>\r\n            <select \r\n              className=\"w-full p-2 border rounded\"\r\n              value={scriptVariant}\r\n              onChange={(e) => setScriptVariant(e.target.value)}\r\n            >\r\n              <option value=\"standard\">Standard</option>\r\n              <option value=\"assertive\">Assertive</option>\r\n              <option value=\"consultative\">Consultative</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"mb-4\">\r\n            <h2 className=\"font-semibold mb-2\">Search Scripts</h2>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by keyword...\"\r\n                className=\"w-full p-2 border rounded\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n              <Search className=\"absolute right-3 top-2.5 text-gray-400\" size={18} />\r\n            </div>\r\n            {searchResults.length > 0 && (\r\n              <ul className=\"mt-2 border rounded max-h-40 overflow-y-auto\">\r\n                {searchResults.map(result => (\r\n                  <li \r\n                    key={result.key}\r\n                    className=\"p-2 hover:bg-gray-100 cursor-pointer border-b text-sm\"\r\n                    onClick={() => {\r\n                      handleStepChange(result.key);\r\n                      setSearchTerm('');\r\n                    }}\r\n                  >\r\n                    {result.title}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"mb-4\">\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n              <h2 className=\"font-semibold\">Favorite Scripts</h2>\r\n              <button \r\n                onClick={() => setShowKeyPhrases(!showKeyPhrases)}\r\n                className=\"text-blue-600 text-sm\"\r\n              >\r\n                {showKeyPhrases ? 'Hide Key Phrases' : 'Show Key Phrases'}\r\n              </button>\r\n            </div>\r\n            {favoriteScripts.length > 0 ? (\r\n              <ul className=\"border rounded max-h-40 overflow-y-auto\">\r\n                {favoriteScripts.map(key => (\r\n                  conversationSteps[key] && (\r\n                    <li \r\n                      key={key}\r\n                      className=\"p-2 hover:bg-gray-100 cursor-pointer border-b text-sm flex justify-between\"\r\n                      onClick={() => handleStepChange(key)}\r\n                    >\r\n                      <span>{conversationSteps[key].title}</span>\r\n                      <StarOff \r\n                        size={16} \r\n                        className=\"text-yellow-500 cursor-pointer\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleFavorite(key);\r\n                        }}\r\n                      />\r\n                    </li>\r\n                  )\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p className=\"text-sm text-gray-500\">No favorites yet. Star scripts to save them here.</p>\r\n            )}\r\n          </div>\r\n          \r\n          {showKeyPhrases && contactInfo.industry && industryKeyPhrases[contactInfo.industry.toLowerCase()] && (\r\n            <div className=\"mb-4\">\r\n              <h2 className=\"font-semibold mb-2\">Industry Key Phrases</h2>\r\n              <ul className=\"border rounded p-2 max-h-40 overflow-y-auto\">\r\n                {industryKeyPhrases[contactInfo.industry.toLowerCase()].map((phrase, index) => (\r\n                  <li key={index} className=\"mb-1 text-sm\"> {phrase}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"mt-auto\">\r\n            <button\r\n              onClick={generateReport}\r\n              className=\"w-full p-2 bg-blue-600 text-white rounded flex items-center justify-center\"\r\n            >\r\n              <BarChart2 size={18} className=\"mr-2\" />\r\n              {showAnalytics ? 'Hide Analytics' : 'Show Analytics'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Main Script Area */}\r\n        <div className=\"flex-1 overflow-y-auto p-4\">\r\n          {/* Current Script */}\r\n          <div className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n              <h2 className=\"text-lg font-semibold\">{getCurrentStepScript().title}</h2>\r\n              <div className=\"flex items-center\">\r\n                <button\r\n                  onClick={() => toggleFavorite(currentStep)}\r\n                  className=\"mr-2\"\r\n                >\r\n                  {favoriteScripts.includes(currentStep) ? (\r\n                    <StarOff size={18} className=\"text-yellow-500\" />\r\n                  ) : (\r\n                    <Star size={18} className=\"text-gray-400 hover:text-yellow-500\" />\r\n                  )}\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowScript(!showScript)}\r\n                  className=\"text-gray-500\"\r\n                >\r\n                  {showScript ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            {showScript && (\r\n              <div className=\"bg-blue-50 p-4 rounded border border-blue-200 mb-4\">\r\n                <p className=\"text-gray-800\">{getCurrentStepScript().script}</p>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"mt-4\">\r\n              <h3 className=\"font-semibold mb-2\">Response Options:</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n                {getCurrentStepScript().options.map((option, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => handleStepChange(option.nextStep)}\r\n                    className=\"p-2 bg-gray-100 hover:bg-blue-100 border rounded text-left\"\r\n                  >\r\n                    {option.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-4 flex justify-between\">\r\n              <button\r\n                onClick={() => history.length > 0 && handleStepChange(history[history.length - 1].step)}\r\n                disabled={history.length === 0}\r\n                className={`px-3 py-1 rounded ${history.length === 0 ? 'bg-gray-300 cursor-not-allowed' : 'bg-blue-600 text-white'}`}\r\n              >\r\n                Back\r\n              </button>\r\n              <button\r\n                onClick={() => setShowSaveModal(true)}\r\n                className=\"px-3 py-1 bg-green-600 text-white rounded flex items-center\"\r\n              >\r\n                <Save size={16} className=\"mr-1\" />\r\n                Save Conversation\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Analytics Section */}\r\n          {showAnalytics && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\r\n              <h2 className=\"text-lg font-semibold mb-4\">Call Analytics</h2>\r\n              \r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n                <div className=\"border rounded p-3\">\r\n                  <h3 className=\"text-sm font-semibold mb-1\">Total Calls</h3>\r\n                  <p className=\"text-2xl\">{analyticsData.callCount}</p>\r\n                </div>\r\n                <div className=\"border rounded p-3\">\r\n                  <h3 className=\"text-sm font-semibold mb-1\">Avg. Call Time</h3>\r\n                  <p className=\"text-2xl\">{formatTime(Math.round(analyticsData.avgCallTime))}</p>\r\n                </div>\r\n                <div className=\"border rounded p-3\">\r\n                  <h3 className=\"text-sm font-semibold mb-1\">Consultations Scheduled</h3>\r\n                  <p className=\"text-2xl\">{analyticsData.consultationsScheduled}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mb-4\">\r\n                <h3 className=\"font-semibold mb-2\">Lead Conversion Rate</h3>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-4\">\r\n                  <div \r\n                    className=\"bg-green-600 h-4 rounded-full\" \r\n                    style={{ width: `${Math.min(100, analyticsData.leadConversionRate * 100)}%` }}\r\n                  ></div>\r\n                </div>\r\n                <p className=\"text-sm mt-1\">{(analyticsData.leadConversionRate * 100).toFixed(1)}%</p>\r\n              </div>\r\n              \r\n              <div className=\"mb-4\">\r\n                <h3 className=\"font-semibold mb-2\">Top Objections</h3>\r\n                <ul className=\"border rounded divide-y\">\r\n                  {Object.entries(analyticsData.objectionCounts)\r\n                    .sort(([, a], [, b]) => b - a)\r\n                    .slice(0, 3)\r\n                    .map(([key, count]) => (\r\n                      <li key={key} className=\"p-2 flex justify-between\">\r\n                        <span className=\"text-sm\">{conversationSteps[key]?.title || key}</span>\r\n                        <span className=\"text-sm font-semibold\">{count}</span>\r\n                      </li>\r\n                    ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Contact Info & Notes */}\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            {/* Contact Info */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 flex-1\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"font-semibold\">Contact Information</h2>\r\n                <button\r\n                  onClick={() => setShowContact(!showContact)}\r\n                  className=\"text-gray-500\"\r\n                >\r\n                  {showContact ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\r\n                </button>\r\n              </div>\r\n              \r\n              {showContact && (\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <label className=\"block text-sm text-gray-600 mb-1\">Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={contactInfo.name}\r\n                      onChange={(e) => setContactInfo({...contactInfo, name: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm text-gray-600 mb-1\">Company</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={contactInfo.company}\r\n                      onChange={(e) => setContactInfo({...contactInfo, company: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm text-gray-600 mb-1\">Title</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={contactInfo.title}\r\n                      onChange={(e) => setContactInfo({...contactInfo, title: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm text-gray-600 mb-1\">Email</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      value={contactInfo.email}\r\n                      onChange={(e) => setContactInfo({...contactInfo, email: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm text-gray-600 mb-1\">Phone</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={contactInfo.phone}\r\n                      onChange={(e) => setContactInfo({...contactInfo, phone: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm text-gray-600 mb-1\">Industry</label>\r\n                    <select\r\n                      value={contactInfo.industry}\r\n                      onChange={(e) => setContactInfo({...contactInfo, industry: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    >\r\n                      <option value=\"\">Select Industry</option>\r\n                      {Object.keys(industryKeyPhrases).map(industry => (\r\n                        <option key={industry} value={industry}>\r\n                          {industry.charAt(0).toUpperCase() + industry.slice(1)}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Notes */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 flex-1\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"font-semibold\">Call Notes</h2>\r\n                <button\r\n                  onClick={() => setShowNotes(!showNotes)}\r\n                  className=\"text-gray-500\"\r\n                >\r\n                  {showNotes ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\r\n                </button>\r\n              </div>\r\n              \r\n              {showNotes && (\r\n                <textarea\r\n                  value={notes}\r\n                  onChange={(e) => setNotes(e.target.value)}\r\n                  placeholder=\"Add your call notes here...\"\r\n                  className=\"w-full p-2 border rounded h-40\"\r\n                ></textarea>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Follow-up Tasks */}\r\n          <div className=\"bg-white rounded-lg shadow-md p-4 mt-4\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h2 className=\"font-semibold\">Follow-up Tasks</h2>\r\n              <button\r\n                onClick={() => setShowAddTask(true)}\r\n                className=\"px-3 py-1 bg-blue-600 text-white rounded text-sm flex items-center\"\r\n              >\r\n                <UserPlus size={16} className=\"mr-1\" />\r\n                Add Task\r\n              </button>\r\n            </div>\r\n            \r\n            {followUpTasks.length > 0 ? (\r\n              <ul className=\"divide-y\">\r\n                {followUpTasks.map(task => (\r\n                  <li key={task.id} className=\"py-2 flex items-center justify-between\">\r\n                    <div className=\"flex items-start\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={task.completed}\r\n                        onChange={() => {\r\n                          setFollowUpTasks(followUpTasks.map(t => \r\n                            t.id === task.id ? {...t, completed: !t.completed} : t\r\n                          ));\r\n                        }}\r\n                        className=\"mt-1 mr-3\"\r\n                      />\r\n                      <div>\r\n                        <p className={`font-medium ${task.completed ? 'line-through text-gray-500' : ''}`}>\r\n                          {task.title}\r\n                        </p>\r\n                        <div className=\"flex text-sm text-gray-500 mt-1\">\r\n                          <span className=\"mr-3 flex items-center\">\r\n                            <Calendar size={14} className=\"mr-1\" />\r\n                            {task.dueDate}\r\n                          </span>\r\n                          <span className={`px-2 rounded-full text-xs \r\n                            ${task.priority === 'high' ? 'bg-red-100 text-red-800' : \r\n                              task.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' : \r\n                              'bg-green-100 text-green-800'}`\r\n                          }>\r\n                            {task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => {\r\n                        setFollowUpTasks(followUpTasks.filter(t => t.id !== task.id));\r\n                      }}\r\n                      className=\"text-red-500\"\r\n                    >\r\n                      <X size={16} />\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p className=\"text-gray-500 text-sm\">No follow-up tasks yet. Add tasks to keep track of next steps.</p>\r\n            )}\r\n            \r\n            {/* Add Task Form */}\r\n            {showAddTask && (\r\n              <div className=\"mt-4 border-t pt-4\">\r\n                <h3 className=\"font-medium mb-2\">New Task</h3>\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Task title\"\r\n                      value={newTask.title}\r\n                      onChange={(e) => setNewTask({...newTask, title: e.target.value})}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex space-x-2\">\r\n                    <div className=\"flex-1\">\r\n                      <input\r\n                        type=\"date\"\r\n                        value={newTask.dueDate}\r\n                        onChange={(e) => setNewTask({...newTask, dueDate: e.target.value})}\r\n                        className=\"w-full p-2 border rounded\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <select\r\n                        value={newTask.priority}\r\n                        onChange={(e) => setNewTask({...newTask, priority: e.target.value})}\r\n                        className=\"w-full p-2 border rounded\"\r\n                      >\r\n                        <option value=\"low\">Low Priority</option>\r\n                        <option value=\"medium\">Medium Priority</option>\r\n                        <option value=\"high\">High Priority</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-end space-x-2\">\r\n                    <button\r\n                      onClick={() => setShowAddTask(false)}\r\n                      className=\"px-3 py-1 border rounded\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      onClick={addFollowUpTask}\r\n                      className=\"px-3 py-1 bg-blue-600 text-white rounded\"\r\n                      disabled={!newTask.title || !newTask.dueDate}\r\n                    >\r\n                      Add Task\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Right Sidebar - Call History */}\r\n        <div className=\"w-64 bg-white p-4 shadow-md overflow-y-auto\">\r\n          <h2 className=\"font-semibold mb-4\">Call History</h2>\r\n          {history.length > 0 ? (\r\n            <ul className=\"space-y-2\">\r\n              {history.map((item, index) => (\r\n                <li \r\n                  key={index}\r\n                  className=\"p-2 border rounded hover:bg-gray-100 cursor-pointer text-sm\"\r\n                  onClick={() => handleStepChange(item.step)}\r\n                >\r\n                  <p className=\"font-medium\">{item.title}</p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {new Date(item.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                  </p>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p className=\"text-gray-500 text-sm\">No call history yet.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Save Modal */}\r\n      {showSaveModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10\">\r\n          <div className=\"bg-white rounded-lg p-6 w-96\">\r\n            <h2 className=\"text-lg font-semibold mb-4\">Save Conversation</h2>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm text-gray-600 mb-1\">Conversation Name</label>\r\n              <input\r\n                type=\"text\"\r\n                value={savedName}\r\n                onChange={(e) => setSavedName(e.target.value)}\r\n                className=\"w-full p-2 border rounded\"\r\n                placeholder=\"E.g., Call with ABC Company\"\r\n              />\r\n            </div>\r\n            <div className=\"flex justify-end space-x-2\">\r\n              <button\r\n                onClick={() => setShowSaveModal(false)}\r\n                className=\"px-4 py-2 border rounded\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={saveConversation}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded\"\r\n                disabled={!savedName}\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScriptNavigator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}