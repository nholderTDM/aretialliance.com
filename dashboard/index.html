<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Areti Alliance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #1e40af;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="min-h-screen">
        <div class="bg-blue-800 text-white p-4 shadow-md">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center mr-3">
                        <span class="text-blue-800 font-bold text-xl">A</span>
                    </div>
                    <h1 class="text-xl font-bold">Areti Alliance Dashboard</h1>
                </div>
                <div>
                    <button id="logoutBtn" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">
                        Logout
                    </button>
                </div>
            </div>
        </div>

        <div class="container mx-auto mt-8 p-4">
            <div id="loginForm" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-blue-800 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white font-bold text-2xl">A</span>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900">Areti Alliance CRM</h2>
                    <p class="text-gray-600">Sign in to your account</p>
                </div>
                
                <div id="errorAlert" class="hidden bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
                    Invalid username or password
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
                        <input type="text" id="username" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="password" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <button id="loginBtn" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Sign in
                    </button>
                </div>
                
                <div class="mt-4 text-center text-xs text-gray-500">
                    Use username: admin, password: admin123 for testing
                </div>
            </div>
            
            <div id="dashboardContent" class="hidden">
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h2 class="text-xl font-semibold mb-4">Welcome to your Dashboard</h2>
                    <p>You are logged in as: <span id="userRole" class="font-semibold">Admin</span></p>
                    <p class="mt-4">This is a simplified dashboard. You can expand it with additional features as needed.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-3">Recent Activity</h3>
                        <p class="text-gray-500">No recent activity</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-3">Tasks</h3>
                        <p class="text-gray-500">No pending tasks</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-3">Notifications</h3>
                        <p class="text-gray-500">No new notifications</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const dashboardContent = document.getElementById('dashboardContent');
            const loginBtn = document.getElementById('loginBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const errorAlert = document.getElementById('errorAlert');
            const userRole = document.getElementById('userRole');
            
            // Check if user is already logged in
            const token = localStorage.getItem('token');
            if (token) {
                showDashboard();
            }
            
            loginBtn.addEventListener('click', function() {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (!username || !password) {
                    errorAlert.textContent = 'Username and password are required';
                    errorAlert.classList.remove('hidden');
                    return;
                }
                
                // TEMPORARY SOLUTION: Check against hardcoded credentials
                // This bypasses the server authentication for now
                if ((username === 'admin' && password === 'admin123') || 
                    (username === 'user' && password === 'user123')) {
                    
                    // Create a mock token and user object
                    const mockToken = 'mock_token_' + Date.now();
                    const mockUser = {
                        id: username === 'admin' ? '1' : '2',
                        name: username === 'admin' ? 'Admin User' : 'Regular User',
                        email: username === 'admin' ? 'admin@aretialliance.com' : 'user@aretialliance.com',
                        role: username === 'admin' ? 'admin' : 'user'
                    };
                    
                    localStorage.setItem('token', mockToken);
                    localStorage.setItem('user', JSON.stringify(mockUser));
                    showDashboard();
                } else {
                    errorAlert.textContent = 'Invalid username or password';
                    errorAlert.classList.remove('hidden');
                }
            });
            
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                showLogin();
            });
            
            function showDashboard() {
                loginForm.classList.add('hidden');
                dashboardContent.classList.remove('hidden');
                
                // Get user info from localStorage
                const user = JSON.parse(localStorage.getItem('user') || '{}');
                userRole.textContent = user.role || 'User';
            }
            
            function showLogin() {
                loginForm.classList.remove('hidden');
                dashboardContent.classList.add('hidden');
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                errorAlert.classList.add('hidden');
            }
        });
    </script>
</body>
</html>